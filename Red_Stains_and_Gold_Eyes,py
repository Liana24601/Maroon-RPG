# Red Stains & Gold Eyes
import time
import sys

sanity = 100
found_funds = False

def slow_print(text, delay=0.001, wait_for_input=True):
    for char in text:
        sys.stdout.write(char)
        sys.stdout.flush()
        time.sleep(delay)
    print()

def pause(seconds=1.5):
    time.sleep(seconds)

def change_sanity(amount):
    global sanity
    sanity += amount
    sanity = max(0, min(100, sanity))
    if sanity <= 30:
        slow_print("[The edges of your vision bleed maroon. Everything feels...louder.]")
    elif sanity <= 60:
        slow_print("[You feel... wrong. Disjointed. Like you left yourself behind.]")

def intro():
    slow_print("Red Stains & Gold Eyes")
    slow_print("A tragedy wrapped in vibrant reds and Shakespearean plays. Inspired by the song \"Maroon\" by Taylor Swift.")
    pause(2)

def wine_spill_scene():
    slow_print("You never wanted to kill him.") 
    slow_print("You remember him. The air smelt of cheap incense and theater dust.") 
    slow_print("Robbie spins in the living room, still in costume, wearing gold eyeliner that catches the warm kitchen light.") 
    slow_print("He twirls a wine glass, trips over a throw pillow, and crashes to the hardwood.") 
    pause()
    slow_print("The rosé flies—dark, staining, like a wound—across your burgundy shirt.")  
    slow_print("You gasp. His laugh bubbles up like a musical cue.")  
    slow_print("Both of you helplessly collapse into the ground, giggling until you can't breathe properly.")  
    slow_print("Lying on the floor, inches apart, his perfect gold eyeliner glints brightly.") 
    slow_print("After the play, he told you he wore it because he wanted to look like Cinna from the Hunger Games.") 
    slow_print("He catches you staring.\"New thing I’m trying out. Does it look good on me, Scarlett?\"")
    print("\nHow do you respond?")
    print("1. It's the stupidest thing I've ever seen. So ugly.")
    print("2. Yeah, it really suits you!")
    print("3. You look beautiful.")
    choice = input("> ").strip()
    if choice == "1":
        slow_print("He laughs. \"Geez, you didn't pull back any punches, huh?\"")
        change_sanity(-2)
    elif choice == "2":
        slow_print("\"Thanks, love.\" Your heart flutters.")
        change_sanity(+2)
    elif choice == "3":
        slow_print("He smiles. \"Not much as you though.\"")
        change_sanity(+5)
    else:
        slow_print("He blinks at you, confused. \"Was that a yes or a no?\"")
        change_sanity(-1)
    pause()
    slow_print("He looks around the apartment.")
    slow_print("\"How'd we end up on the floor anyway?\" Robbie asks you breathlessly.") 
    slow_print("\"Your roommate’s cheap-ass screw-top rosé, that’s how.\" You shoot back.")  
    slow_print("You both collapse in laughter. That dirty t-shirt will never be the same.")  
    pause()
    slow_print("You’ll keep it anyway.") 
    change_sanity(-5)

def flashback():
    slow_print("\n—Flashback—")
    slow_print("New York at 2AM. Robbie dances in the streetlight puddles like he’s auditioning for God.") 
    slow_print("You’re pulled along, laced fingers, as he quotes something Shakespearean under his breath.") 
    slow_print("Robbie: \"I'm telling you, I was born to dance under the Times Square billboards!\" he yells to you gleefully.") 
    slow_print("You laugh as you study him. You, the hardworking, steadfast comp sci major.") 
    slow_print("Him, the theater nerd that thinks he'll make it to Broadway.") 
    slow_print("You hate to code, but...it's stable. Reliable. A promising future, even if you loathe it.") 
    slow_print("But Robbie? He's a true New York dreamer. All open flame and delusion. Theatrics and melodrama.") 
    pause()
    slow_print("You can't imagine having that much passion.") 
    slow_print("He continues his dancing in the Times Square lights. People stare, but he doesn't seem to care.")

    print("\nHow do you respond?")
    print("1. What are you doing?")
    print("2. You're embarrassing yourself.")
    print("3. People are staring, my guy.")
    print("4. (Say nothing)")

    choice = input("> ").strip()

    if choice == "1":
        slow_print("He grins. \"Whatever I want!\"")
        change_sanity(+2)
    elif choice == "2":
        slow_print("\"At least I'm not being boring like you, Mrs. Grinch!\" He laughs.")
        change_sanity(-2)
    elif choice == "3":
        slow_print("\"Who cares?\" he yells with glee. \"As Shakespeare once said, 'All the world's a stage!'\"")
        change_sanity(+1)
    elif choice == "4":
        slow_print("Robbie waves his arms and does a silly dance to make you laugh. It works.")
        change_sanity(+1)
    else:
        slow_print("Robbie cocks his head. \"That wasn't one of the options, genius.\"")
        change_sanity(-1)

    pause()
    slow_print("You sigh as you watch him finish his crazy performance.")
    slow_print("You envy him. Maybe even love him.")

def fund_puzzle():
    global found_funds
    slow_print("\nYou step into the apartment. The water comes up to your knees. The radiator screams.")
    slow_print("You panic. Not because the flood destroyed your and Robbie's apartment.")
    slow_print("But because you don't have the money to fix it.")
    slow_print("Your heartbeat quickens. Your palms sweat. The repair bills will crush you.")
    slow_print("All those dreams of a stable life...")
    pause()
    slow_print("Gone.") 
    pause()
    slow_print("You know where Robbie hides things — he’s careless that way. He trusts too easily.")
    slow_print("You need money to fix the apartment. His funds for acting school... it’s somewhere.")
    attempts = 0
    while not found_funds:
        slow_print("\nWhere will you look?")
        slow_print("1. Under Robbie's mattress")
        slow_print("2. Inside his folder of audition scripts")
        slow_print("3. In the dusty teapot on the shelf")
        slow_print("4. Behind the giant WICKED poster")
        choice = input("> ")
        attempts += 1
        if choice == "3":
            found_funds = True
            slow_print("The teapot rattles with hidden weight. Inside: an envelope, labeled 'Broadway, here I come!'.")
            slow_print("You hold the cash and whisper an apology he’ll never hear. Not really.")
        else:
            slow_print("Empty. Dust. Nada. Try again.")
            change_sanity(-5)
            if attempts > 4:
                slow_print("You feel watched. The apartment is still, but somehow hostile.")

